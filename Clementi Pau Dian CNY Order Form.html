<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Clementi Pau Dian ‚Äî A5 Order Sheet</title>
<style>
  /* Reset */
  * { box-sizing: border-box; margin: 0; padding: 0; }

  /* Page / Print: force A5 */
  @page { size: A5 portrait; margin: 6mm; }
  @media print {
    html, body { height: auto; }
    .stage { width: auto; height: auto; display: block; }
    .sheet { transform: none !important; width: 148mm; height: 210mm; margin: 0; box-shadow: none; }
    .no-print { display: none !important; }
    input:not([readonly]), textarea { border: none !important; border-bottom: 1px solid #333 !important; }
    table { page-break-inside: avoid; }
  }

  /* Make the viewport show a scaled A5 sheet completely (no page scroll) */
  html, body {
    height: 100%;
    background: #f3f3f3;
    overflow: hidden; /* hide browser scrollbars */
    font-family: "Segoe UI", Arial, sans-serif;
  }

  /* Stage centers the sheet and allows scaling */
  .stage {
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* The sheet is the A5-sized page (real mm dimensions for printing) */
  .sheet {
    width: 148mm;         /* A5 width */
    height: 210mm;        /* A5 height */
    background: #fff;
    padding: 8mm;
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
    border-radius: 4px;
    transform-origin: center center;
    /* JS will set transform: scale(...) so the sheet fits the screen */
    display: flex;
    flex-direction: column;
    gap: 6px;
    overflow: hidden; /* important to prevent inner scroll */
  }

  /* Header */
  .header {
    text-align: center;
    border-bottom: 2px solid #DC143C;
    padding-bottom: 4px;
    flex: 0 0 auto;
  }
  .header h1 { color: #DC143C; font-size: 14px; margin-bottom: 4px; }
  .header p { color: #666; font-size: 10px; }

  /* Top details row */
  .top {
    display: flex;
    gap: 6px;
    flex: 0 0 auto;
    align-items: center;
  }

  .col {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .col.small { flex: 1 1 36%; }
  .col.large { flex: 1 1 64%; }

  .field {
    display: flex;
    gap: 6px;
    align-items: center;
    font-size: 10px;
  }
  .field label { min-width: 72px; font-weight: 600; }
  .field input[type="text"],
  .field input[type="tel"],
  .field input[type="date"] {
    flex: 1;
    padding: 4px 6px;
    font-size: 10px;
    border: 1px solid #cfcfcf;
    border-radius: 3px;
  }

  .checkbox-row { display: flex; gap: 8px; font-size: 10px; align-items:center; }

  /* Table area must fit within remaining vertical space */
  .table-area {
    flex: 1 1 auto;   /* expand to occupy remaining vertical space */
    overflow: hidden; /* no scrollbars on sheet */
    display: block;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
    font-size: 10px;      /* small so all rows fit */
    color: #111;
  }

  thead th {
    background: #DC143C;
    color: #fff;
    padding: 5px 4px;
    font-weight: 700;
    border: 1px solid #bbb;
    font-size: 9.5px;
    text-align: center;
  }

  tbody td {
    border: 1px solid #e6e6e6;
    padding: 3px 4px;     /* compact padding to fit rows */
    vertical-align: middle;
  }

  /* Column widths (number column reduced to narrow fixed width) */
  .col-num { width: 18px; text-align: center; font-weight:700; padding-left: 2px; padding-right: 2px; }
  .col-product { width: calc(100% - 18px - 60px - 56px - 48px); /* remaining width */ text-align:left; padding-left:6px; }
  .col-size { width: 60px; text-align:left; font-weight:600; }
  .col-price { width: 56px; text-align:center; font-weight:800; }
  .col-editable { width: 48px; text-align:center; }

  /* Make product name / size / price slightly larger for legibility */
  .col-product .pname { font-size: 11px; font-weight:700; line-height:1.05; }
  .col-size { font-size: 10px; }
  .col-price { font-size: 11px; color:#000; }

  /* Inputs in table ‚Äî compact */
  .qty-input, .amount-input {
    width: 100%;
    padding: 3px 4px;
    font-size: 10px;
    text-align: center;
    border: 1px solid #ccc;
    border-radius: 3px;
    background: #fff;
  }
  .amount-input { background: #f6f6f6; font-weight:700; }

  /* Totals & notes row compact */
  .bottom-row {
    display: flex;
    gap: 8px;
    align-items: center;
    flex: 0 0 auto;
  }

  .notes { flex: 1 1 60%; font-size: 10px; }
  .notes textarea {
    width: 100%;
    min-height: 30px;
    max-height: 36px;
    resize: none;
    padding: 6px;
    font-size: 10px;
    border: 1px solid #ccc;
    border-radius: 3px;
  }

  .totals { flex: 0 0 auto; display: flex; gap:8px; align-items: center; }
  .totals label { font-weight:700; font-size: 10px; margin-right:4px; }
  .totals input { width: 88px; padding: 4px 6px; font-size: 11px; text-align: right; border:1px solid #bbb; border-radius:3px; }

  /* Small helpers */
  .hidden { display: none !important; }

  /* Ensure long product names wrap */
  .col-product { word-break: break-word; white-space: normal; }
</style>
</head>
<body>
  <div class="stage" aria-hidden="false">
    <div class="sheet" id="sheet" role="document" aria-label="A5 Order Sheet">
      <!-- Header -->
      <div class="header">
        <h1>üéä CLEMENTI PAU DIAN ‚Äî ORDER FORM</h1>
        <p style="margin-top:4px;">ÊÅ≠ÂñúÁôºË≤° ¬∑ WhatsApp: 91831698</p>
      </div>

      <!-- Top details -->
      <div class="top" role="region" aria-label="Customer details">
        <div class="col small">
          <div class="field">
            <label for="customerName">Name</label>
            <input id="customerName" type="text" placeholder="Enter name">
          </div>
          <div class="field">
            <label for="customerPhone">Contact</label>
            <input id="customerPhone" type="tel" placeholder="Phone">
          </div>
        </div>

        <div class="col large">
          <div class="field">
            <label for="orderDate">Date</label>
            <input id="orderDate" type="date">
            <label style="min-width: 58px; margin-left:6px; font-weight:600;">Delivery</label>
            <input id="deliveryAddress" type="text" placeholder="Address" style="flex:1; font-size:10px;">
          </div>
          <div class="checkbox-row" style="margin-left: 72px; margin-top: -2px;">
            <label><input type="checkbox" name="deliveryMode" value="pickup"> Self Pick-Up</label>
            <label><input type="checkbox" name="deliveryMode" value="delivery"> Delivery (MOQ $80)</label>
          </div>
        </div>
      </div>

      <!-- Products Table (must fit within the sheet area) -->
      <div class="table-area" role="region" aria-label="Product list">
        <table id="productTable" role="table" aria-label="Order items">
          <thead>
            <tr>
              <th>No.</th>
              <th>PRODUCT NAME</th>
              <th>SIZE</th>
              <th>PRICE</th>
              <th>QTY</th>
              <th>AMOUNT</th>
            </tr>
          </thead>
          <tbody>
            <!-- All original product rows kept. Number column is narrow. -->
            <tr><td class="col-num">1</td><td class="col-product"><div class="pname">Big Siew Mai</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$6.00</td><td class="col-editable"><input class="qty-input" type="number" data-price="6.0" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">2</td><td class="col-product"><div class="pname">Small Siew Mai</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$5.00</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.0" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">3</td><td class="col-product"><div class="pname">Fan Choy</div></td><td class="col-size">2 x 140g</td><td class="col-price">$3.20</td><td class="col-editable"><input class="qty-input" type="number" data-price="3.2" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">4</td><td class="col-product"><div class="pname">Lo Mai Kai</div></td><td class="col-size">2 x 140g</td><td class="col-price">$3.20</td><td class="col-editable"><input class="qty-input" type="number" data-price="3.2" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">5</td><td class="col-product"><div class="pname">Lotus Rice</div></td><td class="col-size">2 x 280g</td><td class="col-price">$5.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">6</td><td class="col-product"><div class="pname">Pork Ribs</div></td><td class="col-size">500g</td><td class="col-price">$6.80</td><td class="col-editable"><input class="qty-input" type="number" data-price="6.8" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">7</td><td class="col-product"><div class="pname">Chicken Feet</div></td><td class="col-size">500g</td><td class="col-price">$6.80</td><td class="col-editable"><input class="qty-input" type="number" data-price="6.8" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">8</td><td class="col-product"><div class="pname">Shrimp On Leaf</div></td><td class="col-size">8 PCS/TRAY</td><td class="col-price">$5.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">9</td><td class="col-product"><div class="pname">Chicken Shrimp Roll</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$5.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">10</td><td class="col-product"><div class="pname">Cuttlefish Shrimp Roll</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$8.00</td><td class="col-editable"><input class="qty-input" type="number" data-price="8.0" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">11</td><td class="col-product"><div class="pname">Prawn Dumpling</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$5.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">12</td><td class="col-product"><div class="pname">Beancurd Roll</div></td><td class="col-size">10 PCS/TRAY</td><td class="col-price">$5.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="5.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">13</td><td class="col-product"><div class="pname">Big Pork Pau</div></td><td class="col-size">6's x 160g/PKT</td><td class="col-price">$9.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="9.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">14</td><td class="col-product"><div class="pname">Small Pork Pau</div></td><td class="col-size">6's x 60g/PKT</td><td class="col-price">$4.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">15</td><td class="col-product"><div class="pname">Big Chicken Pau</div></td><td class="col-size">6's x 160g/PKT</td><td class="col-price">$9.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="9.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">16</td><td class="col-product"><div class="pname">Small Chicken Pau</div></td><td class="col-size">6's x 60g/PKT</td><td class="col-price">$4.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">17</td><td class="col-product"><div class="pname">BBQ Pork Pau</div></td><td class="col-size">6's x 50g/PKT</td><td class="col-price">$4.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">18</td><td class="col-product"><div class="pname">Pork Belly Pau</div></td><td class="col-size">6's x 75g/PKT</td><td class="col-price">$7.20</td><td class="col-editable"><input class="qty-input" type="number" data-price="7.2" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">19</td><td class="col-product"><div class="pname">Vegetable Pau</div></td><td class="col-size">6's x 85g/PKT</td><td class="col-price">$4.50</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.5" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">20</td><td class="col-product"><div class="pname">Red Bean Pau</div></td><td class="col-size">6's x 50g/PKT</td><td class="col-price">$4.20</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.2" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
            <tr><td class="col-num">21</td><td class="col-product"><div class="pname">Lotus Paste Pau</div></td><td class="col-size">6's x 50g/PKT</td><td class="col-price">$4.20</td><td class="col-editable"><input class="qty-input" type="number" data-price="4.2" min="0" placeholder="0"></td><td class="col-editable"><input class="amount-input" readonly placeholder="$0.00"></td></tr>
          </tbody>
        </table>
      </div>

      <!-- Bottom: notes + totals (compact) -->
      <div class="bottom-row" role="region" aria-label="Notes and totals">
        <div class="notes">
          <label style="font-size:10px; font-weight:700;">üìù Notes / Special Requests</label>
          <textarea id="notes" placeholder="Deliver after 2pm, etc."></textarea>
        </div>

        <div class="totals" aria-hidden="false">
          <div style="display:flex; align-items:center; gap:6px;">
            <label>Subtotal</label>
            <input id="subtotal" type="text" value="$0.00" readonly>
          </div>
          <div style="display:flex; align-items:center; gap:6px;">
            <label>Delivery</label>
            <input id="deliveryFee" type="text" placeholder="$0.00">
          </div>
          <div style="display:flex; align-items:center; gap:6px;">
            <label style="color:#DC143C;">TOTAL</label>
            <input id="totalAmount" type="text" value="$0.00" readonly>
          </div>
        </div>
      </div>

      <!-- Footer intentionally removed (per request) -->
    </div>
  </div>

<script>
  // Fit sheet to viewport by scaling while preserving A5 dimensions.
  (function() {
    const sheet = document.getElementById('sheet');

    function fitSheet() {
      // available viewport minus a small margin
      const availW = window.innerWidth - 16;
      const availH = window.innerHeight - 16;
      // sheet's natural size (in px) as rendered; offsetWidth uses CSS mm -> px conversion
      const sheetW = sheet.offsetWidth;
      const sheetH = sheet.offsetHeight;
      // compute scale so entire sheet fits with preserved aspect ratio
      const scale = Math.min(availW / sheetW, availH / sheetH, 1);
      sheet.style.transform = 'scale(' + scale + ')';
    }

    // Run on load and on resize / orientation change
    window.addEventListener('load', fitSheet);
    window.addEventListener('resize', fitSheet);
    window.addEventListener('orientationchange', fitSheet);

    // Initialize date
    const dateInput = document.getElementById('orderDate');
    if (dateInput) dateInput.valueAsDate = new Date();

    // Totals calculation
    function calculateTotals() {
      let subtotal = 0;
      document.querySelectorAll('.qty-input').forEach(function(input) {
        const qty = parseFloat(input.value) || 0;
        const price = parseFloat(input.dataset.price) || 0;
        const amt = qty * price;
        const amtField = input.closest('tr').querySelector('.amount-input');
        amtField.value = amt > 0 ? '$' + amt.toFixed(2) : '';
        subtotal += amt;
      });
      document.getElementById('subtotal').value = '$' + subtotal.toFixed(2);
      const delivery = parseFloat(document.getElementById('deliveryFee').value) || 0;
      document.getElementById('totalAmount').value = '$' + (subtotal + delivery).toFixed(2);
    }

    // Wire events
    document.querySelectorAll('.qty-input').forEach(function(input) {
      input.addEventListener('input', calculateTotals);
      input.addEventListener('change', calculateTotals);
      input.addEventListener('blur', calculateTotals);
    });
    const deliveryFee = document.getElementById('deliveryFee');
    if (deliveryFee) deliveryFee.addEventListener('input', calculateTotals);

    // Prevent body scroll on wheel when interacting with sheet (keeps the 'sheet view' feel)
    window.addEventListener('wheel', function(e) {
      // if sheet is scaled down, allow wheel events to pass through only inside inputs; otherwise prevent page-level scroll
      e.preventDefault();
    }, { passive: false });
  })();
</script>
</body>
</html>
